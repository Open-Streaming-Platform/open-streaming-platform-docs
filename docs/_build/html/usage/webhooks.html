<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Webhooks &mdash; Open Streaming Platform  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="OAuth Configuration" href="oauth.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Open Streaming Platform
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/about.html">About Open Streaming Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/repo.html">Repository Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/attribution.html">Attribution</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/upgrades.html">Upgrades</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/tweaks.html">Tweaks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="streaming.html">Streaming</a></li>
<li class="toctree-l1"><a class="reference internal" href="channels.html">Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="uploadingvideo.html">Uploading Video</a></li>
<li class="toctree-l1"><a class="reference internal" href="administrator.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth.html">OAuth Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Webhooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#webhook-variables">Webhook Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#discord">Discord</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#header">Header</a></li>
<li class="toctree-l3"><a class="reference internal" href="#payload">Payload</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mastadon">Mastadon</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#url">URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Header</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Payload</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Open Streaming Platform</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Webhooks</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/usage/webhooks.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="webhooks">
<h1>Webhooks<a class="headerlink" href="#webhooks" title="Permalink to this headline"></a></h1>
<p>OSP can send HTTP requests (GET,POST,PUT,DELETE) to notify other services about various triggers. Webhooks can be set globally in the admin settings and per channel by users. The HTTP requests are entirely definable by the by JSON.
Currently supported triggers:</p>
<ul class="simple">
<li><p>At the Start of a Live Stream</p></li>
<li><p>At the End of a Live Stream</p></li>
<li><p>On a New Viewer Joining a Live Stream</p></li>
<li><p>On a Stream Upvote</p></li>
<li><p>On a Stream Metadata Change (Name/Topic)</p></li>
<li><p>On a Stream Chat Message</p></li>
<li><p>On Posting of a New Video to a Channel</p></li>
<li><p>On a New Video Comment</p></li>
<li><p>On a Video Upvote</p></li>
<li><p>On a Video Metadata Change (Name/Topic)</p></li>
</ul>
<section id="webhook-variables">
<h2>Webhook Variables<a class="headerlink" href="#webhook-variables" title="Permalink to this headline"></a></h2>
<p>When defining a webhook payload, various variables can be set which will be replaced with live data at the time the webhook is run. Webhook variables are defined as the following:</p>
<ul class="simple">
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
</section>
</section>
<section id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h1>
<section id="discord">
<h2>Discord<a class="headerlink" href="#discord" title="Permalink to this headline"></a></h2>
<p><strong>Type:</strong> POST
<strong>Trigger event:</strong> Stream start</p>
<section id="header">
<h3>Header<a class="headerlink" href="#header" title="Permalink to this headline"></a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;application/json&quot;</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="payload">
<h3>Payload<a class="headerlink" href="#payload" title="Permalink to this headline"></a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%channelname% went live on the OSP Demo Server&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OSP Bot&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;embeds&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%streamurl%&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%streamurl%&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6570404</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%channelimage%&quot;</span><span class="w"></span>
<span class="p">},</span><span class="w"></span>
<span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%streamer% is now streaming&quot;</span><span class="w"></span>
<span class="p">},</span><span class="w"></span>
<span class="nt">&quot;fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Channel&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%channelname%&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;inline&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Topic&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%streamtopic%&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;inline&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stream Name&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%streamname%&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;inline&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Description&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%channeldescription%&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;inline&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="mastadon">
<h2>Mastadon<a class="headerlink" href="#mastadon" title="Permalink to this headline"></a></h2>
<p><strong>Type:</strong> POST
<strong>Trigger event:</strong> Stream start</p>
<section id="url">
<h3>URL<a class="headerlink" href="#url" title="Permalink to this headline"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://$FQDN/api/v1/statuses?access_token=$TOKEN
</pre></div>
</div>
</section>
<section id="id1">
<h3>Header<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;application/json&quot;</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id2">
<h3>Payload<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;New Live Stream on OSP.\n\nURL: %streamurl%\nChannel: %channelname%\nTopic: %streamtopic%\nDescription: %channeldescription%&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="oauth.html" class="btn btn-neutral float-left" title="OAuth Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Open Streaming Platform.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>